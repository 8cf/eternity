<html>
    <script>

javascript:(function()%7Basync function makeFile(fs%2CfileName%2CfileType%2Ccontent)%7Bawait new Promise(res%3D>%7Bfs.root.getFile(fileName%2C%7B%7D%2CfileEntry%3D>%7BfileEntry.remove(res)%7D%2Cres)%7D)%3Breturn await new Promise(res%3D>%7Bfs.root.getFile(fileName%2C%7Bcreate%3Atrue%7D%2CfileEntry%3D>%7BfileEntry.createWriter(fileWriter%3D>%7BfileWriter.write(new Blob(%5Bcontent%5D%2C%7Btype%3AfileType%7D))%3Bres(fileEntry.toURL())%7D)%7D)%7D)%7Dasync function onInitFs(fs)%7Blet htmlFile%3Dawait makeFile(fs%2C"index.html"%2C"text%2Fhtml"%2C%60<!doctype html><html lang%3Den><meta charset%3Dutf-8><meta http-equiv%3Dx-ua-compatible content%3D"IE%3Dedge"><meta name%3Dviewport content%3D"width%3Ddevice-width%2Cinitial-scale%3D1"><title>FoxLauncher<%2Ftitle><script src%3Dzip.js><%2Fscript>%0A<script src%3D.%2Fpayload.js><%2Fscript>%0A<link rel%3Dstylesheet href%3Dpayload.css><div class%3Dcontent><div class%3Dborder><table><tr><td class%3Dinfotd><h1>FoxLauncher<%2Fh1><div class%3Dtextcontent>Made by <a href%3Dhttps%3A%2F%2Ffoxmoss.com%2Fpersonal%2F>foxmoss<%2Fa> from%0A<a href%3Dmailto%3Afoxmoss%40mediaology.com>foxmoss%40mediaology.com<%2Fa>. Read the documentation at%0A<a href%3Dhttps%3A%2F%2Ffoxmoss.com%2Ffoxlauncher>foxmoss.com%2Ffoxlauncher<%2Fa><%2Fdiv><div><label class%3D"resourcesFileUpload upload zipinst"><input type%3Dfile id%3DresourcesFileInput>%0AUpload .flr<%2Flabel>%0A<button id%3Dflr class%3Dzipinst>Load the zip.flr file!<%2Fbutton><%2Fdiv><h3>Permissions%3A<%2Fh3><ul id%3DpermList><%2Ful><script>cspInline%3D!0<%2Fscript><td class%3DseperatorContainer><div class%3Dseperator><%2Fdiv><td><h2>Game Bookmarks%3A<%2Fh2><ul id%3DfileList><%2Ful><label class%3D"zipFileUpload upload zip" disabled><input type%3Dfile id%3DzipFileInput class%3Dzip disabled>%0AUpload .flz<%2Flabel>%0A<button id%3Dflz class%3Dzip disabled>Load the .flz file!<%2Fbutton><%2Ftable><%2Fdiv><%2Fdiv>%0A%60)%3Bawait makeFile(fs%2C"payload.js"%2C"text%2Fjs"%2C%60window.addEventListener("DOMContentLoaded"%2Cevent%3D>%7Bdocument.getElementById("flr").addEventListener("click"%2CuploadResource)%3Bdocument.getElementById("flz").addEventListener("click"%2CuploadZip)%3BcheckFileExists("zip.js").then(fileExists%3D>%7Bif(fileExists)%7Bdocument.querySelectorAll(".zipinst").forEach(element%3D>%7Belement.remove()%7D)%3Bdocument.querySelectorAll(".zip").forEach(element%3D>%7Belement.removeAttribute("disabled")%7D)%7D%7D)%3BscanFiles()%3BscanPerms()%3Bif(chrome.tabs!%3Dundefined)%7Bdocument.body.addEventListener("click"%2Cfunction(e)%7Bif(e.target)%7Bif(e.target.nodeName%3D%3D"A")%7Bchrome.tabs.create(%7Burl%3Ae.target.href%7D)%7D%7D%7D)%7D%7D)%3Bvar cspInline%3Dfalse%3Bvar specialPerms%3D%5B%5D%3Basync function uploadResource()%7Bconst fileInput%3Ddocument.getElementById("resourcesFileInput")%3Bconst file%3DfileInput.files%5B0%5D%3BmakeFile("zip.js"%2Cawait file.text())%3Balert("Reload this tab.")%7Dfunction checkFileExists(filePath)%7Breturn new Promise((resolve%2Creject)%3D>%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C1024*1024*10%2Cfunction(fs)%7Bfs.root.getFile(filePath%2C%7Bcreate%3Afalse%7D%2Cfunction(fileEntry)%7Bresolve(true)%7D%2Cfunction(error)%7Bresolve(false)%7D)%7D%2Cfunction(error)%7Breject(error)%7D)%7D)%7Dfunction grabIndices(zip)%7Blet ret%3D%5B%5D%3Bfor(file in zip.files)%7Bif(file.includes("index.html"))%7Bret.push(zip.files%5Bfile%5D)%7D%7Dreturn ret%7Dfunction uploadZip()%7Bconst fileInput%3Ddocument.getElementById("zipFileInput")%3Bconst file%3DfileInput.files%5B0%5D%3Bif(!file)%7Balert("Please select a zip file.")%3Breturn%7Dconst reader%3Dnew FileReader%3Breader.onload%3Dasync function(e)%7Bconst zipFile%3Dnew JSZip%3Blet blobs%3D%7B%7D%3Blet shouldLoad%3Dfalse%3Bawait zipFile.loadAsync(e.target.result).then(async function(zip)%7Bconst fileList%3Ddocument.getElementById("fileList")%3Blet indexEntries%3DgrabIndices(zip)%3Bfor(let fileName in zip.files)%7Bif(!zip.files%5BfileName%5D.dir)%7Blet blob%3Dawait zip.files%5BfileName%5D.async("blob")%3Bif(zip.files%5BfileName%5D.name.includes("config.flc"))%7BshouldLoad%3DcheckConf(await zip.files%5BfileName%5D.async("text"))%7Dblobs%5Bzip.files%5BfileName%5D.name%5D%3Dblob%7Delse%7Bawait makeDir(zip.files%5BfileName%5D.name.split("%2F")%5B0%5D)%3Bawait makeDir(zip.files%5BfileName%5D.name)%7D%7Dif(!await shouldLoad)%7Balert("Permissions are probably wrong!")%3Breturn%7Dfor(blob in blobs)%7Bawait makeFileBlob(blob%2Cblobs%5Bblob%5D)%7Dfor(index in indexEntries)%7Bconst fileListItem%3Ddocument.createElement("li")%3Bconst fileListLink%3Ddocument.createElement("a")%3Bconst fileName%3Ddocument.createTextNode(indexEntries%5Bindex%5D.name.replace("%2Findex.html"%2C""))%3BfileListLink.href%3D"filesystem%3A"%2Bwindow.location.origin%2B"%2Ftemporary%2F"%2BindexEntries%5Bindex%5D.name%3BfileListLink.appendChild(fileName)%3BfileListItem.appendChild(fileListLink)%3BfileList.appendChild(fileListItem)%7D%7D)%7D%3Breader.readAsArrayBuffer(file)%7Dfunction checkPerms(requiredPerms)%7Breturn new Promise(resolve%3D>%7BrequiredPerms.forEach(perm%3D>%7Bif(!specialPerms.includes(perm.textContent))%7Bresolve(false)%7D%7D)%3Bresolve(true)%7D)%7Dasync function checkConf(conf)%7Blet parser%3Dnew DOMParser%3Blet confDoc%3Dparser.parseFromString(conf%2C"text%2Fxml")%3Blet requiredPerms%3DconfDoc.querySelectorAll("SETTINGS > PERMISSIONS > PERM")%3Breturn await checkPerms(requiredPerms)%7Dfunction getAllPerms()%7Breturn new Promise(resolve%3D>%7Bchrome.permissions.getAll(response%3D>resolve(response%5B"permissions"%5D))%7D)%7Dasync function scanPerms()%7Bconst permList%3Ddocument.getElementById("permList")%3Btry%7BspecialPerms%3Dawait getAllPerms()%3BspecialPerms.push("boykisser")%7Dcatch(error)%7BspecialPerms%3D%5B"boykisser"%5D%7Dif(cspInline)%7BspecialPerms.push("cspinline")%7DspecialPerms.forEach(perm%3D>%7Bconst permListItem%3Ddocument.createElement("li")%3Bconst permName%3Ddocument.createTextNode(perm)%3BpermListItem.appendChild(permName)%3BpermList.appendChild(permListItem)%7D)%7Dasync function makeFileBlob(fileName%2Ccontent)%7Blet fs%3Dawait new Promise(res%3D>%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C1024*1024*10%2Cres)%7D)%3Bawait new Promise(res%3D>%7Bfs.root.getFile(fileName%2C%7B%7D%2CfileEntry%3D>%7BfileEntry.remove(res)%7D%2Cres)%7D)%3Breturn await new Promise(res%3D>%7Bfs.root.getFile(fileName%2C%7Bcreate%3Atrue%7D%2CfileEntry%3D>%7BfileEntry.createWriter(fileWriter%3D>%7BfileWriter.write(content)%3Bres(fileEntry.toURL())%7D)%7D)%7D)%7Dasync function makeFile(fileName%2Ccontent)%7Blet fs%3Dawait new Promise(res%3D>%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C1024*1024*10%2Cres)%7D)%3Bawait new Promise(res%3D>%7Bfs.root.getFile(fileName%2C%7B%7D%2CfileEntry%3D>%7BfileEntry.remove(res)%7D%2Cres)%7D)%3Breturn await new Promise(res%3D>%7Bfs.root.getFile(fileName%2C%7Bcreate%3Atrue%7D%2CfileEntry%3D>%7BfileEntry.createWriter(fileWriter%3D>%7BfileWriter.write(new Blob(%5Bcontent%5D))%3Bres(fileEntry.toURL())%7D)%7D)%7D)%7Dasync function makeDir(name)%7Blet fs%3Dawait new Promise(res%3D>%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C1024*1024*10%2Cres)%7D)%3Bfs.root.getDirectory(name%2C%7Bcreate%3Atrue%7D%2CdirectoryEntry%3D>%7B%7D)%7Dasync function scanFiles()%7Blet fs%3Dawait new Promise(res%3D>%7Bwindow.webkitRequestFileSystem(window.TEMPORARY%2C1024*1024*10%2Cres)%7D)%3Bconst fileList%3Ddocument.getElementById("fileList")%3Blet directoryReader%3Dfs.root.createReader()%3Blet directoryContainer%3Ddocument.createElement("ul")%3BfileList.appendChild(directoryContainer)%3BdirectoryReader.readEntries(entries%3D>%7Bentries.forEach(entry%3D>%7Bif(entry.isDirectory)%7Bconst fileListItem%3Ddocument.createElement("li")%3Bconst fileListLink%3Ddocument.createElement("a")%3Bconst fileName%3Ddocument.createTextNode(entry.name)%3BfileListLink.href%3D"filesystem%3A"%2Bwindow.location.origin%2B"%2Ftemporary%2F"%2Bentry.name%2B"%2Findex.html"%3BfileListLink.appendChild(fileName)%3BfileListItem.appendChild(fileListLink)%3BfileList.appendChild(fileListItem)%7D%7D)%7D)%7D%0A%60)%3Bawait makeFile(fs%2C"payload.css"%2C"text%2Fjs"%2C%60%3Aroot%7B--bg1%3A%23413652%3B--bg2%3A%236f577e%3B--ct1%3A%23575f7e%3B--ct2%3A%2362778c%3B--txt%3A%23d4beb8%3B--lnk%3A%2390c0a0%3B--old%3A%23c090a7%7Dhtml%2Cbody%7Bwidth%3A100%25%3Bheight%3A100%25%3Bbackground%3Arepeating-conic-gradient(var(--bg1) 0%25 25%25%2Cvar(--bg2) 0%25 50%25)50%25%2F10vw 10vw%3Bmargin%3A0%3Bpadding%3A0%3Banimation%3ABgDrift 4s linear infinite%7D%40keyframes BgDrift%7B0%25%7Bbackground-position%3A0 0%7D100%25%7Bbackground-position%3A10vw 10vw%7D%7D.content%7Bmargin-left%3A20%25%3Bmargin-right%3A20%25%3Bpadding-top%3A10%25%7D.border%7Bbox-shadow%3A0 0 20px 15px var(--bg1)%3Bbackground%3Alinear-gradient(0deg%2Cvar(--ct1) 50%25%2Cvar(--ct2) 100%25)%3Bfont-family%3AVerdana%2Csans-serif%3Bpadding%3A10px%3Bcolor%3Avar(--txt)%3Bborder-radius%3A20px%3Bheight%3A50vh%7Dinput%5Btype%3Dfile%5D%7Bdisplay%3Anone%7D.upload%7Bborder%3A1px solid var(--lnk)%3Bdisplay%3Ainline-block%3Bpadding%3A10px%3Bcursor%3Apointer%3Bmargin-bottom%3A10px%7D.upload%3Ahover%7Bbackground-color%3Acolor-mix(in srgb%2Cvar(--lnk)%2Ctransparent 50%25)%7D.upload%5Bdisabled%5D%7Bopacity%3A.6%3Bcursor%3Adefault%7Dbutton%7Ball%3Aunset%3Bborder%3A1px solid var(--lnk)%3Bbackground-color%3Avar(--lnk)%3Bdisplay%3Ainline-block%3Bpadding%3A10px%3Bfloat%3Aright%3Bcursor%3Apointer%3Bcolor%3Avar(--bg1)%7Dbutton%5Bdisabled%5D%7Bopacity%3A.6%3Bcursor%3Adefault%7Dbutton%3Ahover%7Bbackground-color%3Acolor-mix(in srgb%2Cvar(--lnk)%2Ctransparent 50%25)%7D.textcontent%7Bpadding-bottom%3A20px%7Da%7Bcolor%3Avar(--lnk)%7Da%3Avisited%7Bcolor%3Avar(--old)%7Dtd%7Bvertical-align%3Atop%7D.infotd%7Bwidth%3A40%25%3Bpadding%3A10px%7Dh2%7Bmargin-top%3A30px%7D.seperatorContainer%7Bwidth%3A.8%25%7D.seperator%7Bborder-radius%3A10px%3Bbackground%3Alinear-gradient( 0deg%2Ctransparent 30%25%2Cvar(--txt) 40%25%2Cvar(--txt) 60%25%2Ctransparent 70%25 )%3Bwidth%3A100%25%3Bheight%3A100%25%7Dtable%7Bheight%3A100%25%7D%0A%60)%3Bprompt("Visit URL"%2ChtmlFile)%7DwebkitRequestFileSystem(window.TEMPORARY%2C1024*1024%2ConInitFs)%3B%7D)()%3B
    </script>
</html>